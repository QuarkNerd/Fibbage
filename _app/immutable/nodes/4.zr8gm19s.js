import{s as P,n as y,r as ce,e as me,f as _e,c as de,o as be,y as ge}from"../chunks/scheduler.bGroypw6.js";import{S as z,i as M,n as U,s as q,e as R,o as D,f as F,c as S,a as L,d as _,p as G,q as I,g as d,l as N,m as v,r as B,t as E,u as Y,b as A,j as O,C as Q,h as $,A as K,k as X,z as x,D as he,x as W,v as j,B as pe}from"../chunks/index.ZiHq4h1H.js";import{p as ke}from"../chunks/stores.Wy5Iqf8r.js";import{d as Ne,o as ve,H as J,f as ye}from"../chunks/SubmitText.svelte_svelte_type_style_lang.bXODe_Eg.js";import{w as ee}from"../chunks/entry.IlB8_IMH.js";import{p as we,a as $e,b as Re,e as Se,s as Ee,f as Ae,l as qe}from"../chunks/utils.8dcxgjFM.js";function H(o){return o?.length!==void 0?o:Array.from(o)}function Fe(o,e,r){let t;if(!o){console.warn("Firestore is not initialized. Are you missing FirebaseApp as a parent component?");const{subscribe:s}=ee({data:null,error:new Error("Firestore is not initialized. Are you missing FirebaseApp as a parent component?")});return{subscribe:s,ref:null,id:""}}const u=typeof e=="string"?Ne(o,e):e,{subscribe:i}=ee({data:r,error:null},s=>(t=ve(u,a=>{s({data:a.data()??null,error:null})},a=>{s({data:null,error:a})}),()=>t()));return{subscribe:i,ref:u,id:u.id}}function te(o,e,r){const t=o.slice();return t[10]=e[r],t}function Te(o){let e=o[0].question.question+"",r,t,u,i=H(o[2]),s=[];for(let a=0;a<i.length;a+=1)s[a]=re(te(o,i,a));return{c(){r=E(e),t=q();for(let a=0;a<s.length;a+=1)s[a].c();u=Y()},l(a){r=A(a,e),t=F(a);for(let n=0;n<s.length;n+=1)s[n].l(a);u=Y()},m(a,n){d(a,r,n),d(a,t,n);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(a,n);d(a,u,n)},p(a,n){if(n&1&&e!==(e=a[0].question.question+"")&&O(r,e),n&12){i=H(a[2]);let l;for(l=0;l<i.length;l+=1){const f=te(a,i,l);s[l]?s[l].p(f,n):(s[l]=re(f),s[l].c(),s[l].m(u.parentNode,u))}for(;l<s.length;l+=1)s[l].d(1);s.length=i.length}},d(a){a&&(_(r),_(t),_(u)),Q(s,a)}}}function Ce(o){let e;return{c(){e=E("You answered, now to annoy your friends to hurry up")},l(r){e=A(r,"You answered, now to annoy your friends to hurry up")},m(r,t){d(r,e,t)},p:y,d(r){r&&_(e)}}}function re(o){let e,r,t=o[10]+"",u,i,s;function a(){return o[9](o[10])}return{c(){e=R("p"),r=R("button"),u=E(t)},l(n){e=S(n,"P",{});var l=L(e);r=S(l,"BUTTON",{});var f=L(r);u=A(f,t),f.forEach(_),l.forEach(_)},m(n,l){d(n,e,l),$(e,r),$(r,u),i||(s=K(r,"click",a),i=!0)},p(n,l){o=n,l&4&&t!==(t=o[10]+"")&&O(u,t)},d(n){n&&_(e),i=!1,s()}}}function Ue(o){let e,r,t,u;e=new J({props:{header:"Pick an answer"}});function i(n,l){return n[1]?Ce:Te}let s=i(o),a=s(o);return{c(){U(e.$$.fragment),r=q(),t=R("div"),a.c(),this.h()},l(n){D(e.$$.fragment,n),r=F(n),t=S(n,"DIV",{class:!0});var l=L(t);a.l(l),l.forEach(_),this.h()},h(){G(t,"class","main")},m(n,l){I(e,n,l),d(n,r,l),d(n,t,l),a.m(t,null),u=!0},p(n,[l]){s===(s=i(n))&&a?a.p(n,l):(a.d(1),a=s(n),a&&(a.c(),a.m(t,null)))},i(n){u||(N(e.$$.fragment,n),u=!0)},o(n){v(e.$$.fragment,n),u=!1},d(n){n&&(_(r),_(t)),B(e,n),a.d()}}}function De(o,e,r){let t,u,i,s,{gameName:a}=e,{user:n}=e,{round:l}=e,{roundNum:f}=e;function c(m){const g=l.question.answer===m;$e(a,g?{user:n,correct:g}:{user:n,correct:g,value:m},f)}const b=m=>c(m);return o.$$set=m=>{"gameName"in m&&r(4,a=m.gameName),"user"in m&&r(5,n=m.user),"round"in m&&r(0,l=m.round),"roundNum"in m&&r(6,f=m.roundNum)},o.$$.update=()=>{o.$$.dirty&33&&r(8,t=l.type==="Fibbage"?l.fibs.filter(m=>m.user!=n).map(m=>m.fib):[]),o.$$.dirty&257&&r(7,u=[...t,l.question.answer]),o.$$.dirty&128&&r(2,i=we(u,u.length)),o.$$.dirty&33&&r(1,s=l.guesses.find(m=>m.user===n))},[l,s,i,c,a,n,f,u,t,b]}class Ie extends z{constructor(e){super(),M(this,e,De,Ue,P,{gameName:4,user:5,round:0,roundNum:6})}}function ne(o,e,r){const t=o.slice();return t[1]=e[r][0],t[8]=e[r][1],t}function le(o){let e=o[6](o[2])+"",r;return{c(){r=E(e)},l(t){r=A(t,e)},m(t,u){d(t,r,u)},p(t,u){u&4&&e!==(e=t[6](t[2])+"")&&O(r,e)},d(t){t&&_(r)}}}function ue(o){let e,r=o[1]+"",t,u,i=o[8]+"",s,a;return{c(){e=R("div"),t=E(r),u=E(": "),s=E(i),a=q()},l(n){e=S(n,"DIV",{});var l=L(e);t=A(l,r),u=A(l,": "),s=A(l,i),a=F(l),l.forEach(_)},m(n,l){d(n,e,l),$(e,t),$(e,u),$(e,s),$(e,a)},p(n,l){l&32&&r!==(r=n[1]+"")&&O(t,r),l&32&&i!==(i=n[8]+"")&&O(s,i)},d(n){n&&_(e)}}}function ie(o){let e,r="Confirm",t,u;return{c(){e=R("button"),e.textContent=r},l(i){e=S(i,"BUTTON",{"data-svelte-h":!0}),X(e)!=="svelte-zp6ffq"&&(e.textContent=r)},m(i,s){d(i,e,s),t||(u=K(e,"click",o[7]),t=!0)},p:y,d(i){i&&_(e),t=!1,u()}}}function Be(o){let e,r,t,u,i,s,a,n,l,f,c,b,m;e=new J({props:{header:o[3]?"Final Scores":"Scores"}});let g=o[2].type==="Fibbage"&&le(o),h=H(o[5]),k=[];for(let p=0;p<h.length;p+=1)k[p]=ue(ne(o,h,p));let T=!o[4]&&!o[3]&&ie(o);return{c(){U(e.$$.fragment),r=q(),t=R("div"),g&&g.c(),u=q(),i=R("br"),s=q(),a=R("br"),n=E(`
	Scoreboard
	`),l=R("div");for(let p=0;p<k.length;p+=1)k[p].c();f=q(),c=R("br"),b=q(),T&&T.c(),this.h()},l(p){D(e.$$.fragment,p),r=F(p),t=S(p,"DIV",{class:!0});var w=L(t);g&&g.l(w),u=F(w),i=S(w,"BR",{}),s=F(w),a=S(w,"BR",{}),n=A(w,`
	Scoreboard
	`),l=S(w,"DIV",{class:!0});var V=L(l);for(let C=0;C<k.length;C+=1)k[C].l(V);V.forEach(_),f=F(w),c=S(w,"BR",{}),b=F(w),T&&T.l(w),w.forEach(_),this.h()},h(){G(l,"class","box"),G(t,"class","main")},m(p,w){I(e,p,w),d(p,r,w),d(p,t,w),g&&g.m(t,null),$(t,u),$(t,i),$(t,s),$(t,a),$(t,n),$(t,l);for(let V=0;V<k.length;V+=1)k[V]&&k[V].m(l,null);$(t,f),$(t,c),$(t,b),T&&T.m(t,null),m=!0},p(p,[w]){const V={};if(w&8&&(V.header=p[3]?"Final Scores":"Scores"),e.$set(V),p[2].type==="Fibbage"?g?g.p(p,w):(g=le(p),g.c(),g.m(t,u)):g&&(g.d(1),g=null),w&32){h=H(p[5]);let C;for(C=0;C<h.length;C+=1){const Z=ne(p,h,C);k[C]?k[C].p(Z,w):(k[C]=ue(Z),k[C].c(),k[C].m(l,null))}for(;C<k.length;C+=1)k[C].d(1);k.length=h.length}!p[4]&&!p[3]?T?T.p(p,w):(T=ie(p),T.c(),T.m(t,null)):T&&(T.d(1),T=null)},i(p){m||(N(e.$$.fragment,p),m=!0)},o(p){v(e.$$.fragment,p),m=!1},d(p){p&&(_(r),_(t)),B(e,p),g&&g.d(),Q(k,p),T&&T.d()}}}function Le(o,e,r){let t,u,i,s,{game:a}=e,{user:n}=e;function l(c){let b="";const m=c.guesses.find(g=>g.user===n);if(m?m.correct?b="Well done, that's correct!":b="You are wrong, you were fooled by "+u.fibs.filter(h=>h.fib===m.value).map(h=>h.user).join(","):b="You didn't guess.",c.type==="Fibbage"){const g=c.fibs.find(h=>h.user===n);if(g){const h=c.guesses.filter(k=>!k.correct&&k.value===g.fib).map(k=>k.user);h.length&&(b+=`
 You fooled `+h)}}return b}const f=()=>Se(a.name,n,a.currentRoundNumber);return o.$$set=c=>{"game"in c&&r(0,a=c.game),"user"in c&&r(1,n=c.user)},o.$$.update=()=>{o.$$.dirty&1&&r(5,t=Re(a)),o.$$.dirty&1&&r(2,u=a.rounds[a.currentRoundNumber]),o.$$.dirty&6&&r(4,i=u?.resultConfirmed.find(c=>c===n)),o.$$.dirty&1&&r(3,s=a.currentRoundNumber===a.rounds.length-1)},[a,n,u,s,i,t,l,f]}class Ve extends z{constructor(e){super(),M(this,e,Le,Be,P,{game:0,user:1})}}function se(o,e,r){const t=o.slice();return t[3]=e[r],t}function oe(o){let e,r=o[3]+"",t;return{c(){e=R("p"),t=E(r)},l(u){e=S(u,"P",{});var i=L(e);t=A(i,r),i.forEach(_)},m(u,i){d(u,e,i),$(e,t)},p(u,i){i&1&&r!==(r=u[3]+"")&&O(t,r)},d(u){u&&_(e)}}}function ae(o){let e,r="Everybody is in, start game",t,u;return{c(){e=R("button"),e.textContent=r},l(i){e=S(i,"BUTTON",{"data-svelte-h":!0}),X(e)!=="svelte-lkbl4o"&&(e.textContent=r)},m(i,s){d(i,e,s),t||(u=K(e,"click",o[2]),t=!0)},p:y,d(i){i&&_(e),t=!1,u()}}}function Ye(o){let e,r,t,u,i,s="Users",a,n,l;e=new J({props:{header:"Lobby"}});let f=H(o[0]),c=[];for(let m=0;m<f.length;m+=1)c[m]=oe(se(o,f,m));let b=o[0].length>1&&ae(o);return{c(){U(e.$$.fragment),r=q(),t=R("div"),u=E(`Share the URL to invite friends to play.
	`),i=R("h3"),i.textContent=s,a=q();for(let m=0;m<c.length;m+=1)c[m].c();n=q(),b&&b.c(),this.h()},l(m){D(e.$$.fragment,m),r=F(m),t=S(m,"DIV",{class:!0});var g=L(t);u=A(g,`Share the URL to invite friends to play.
	`),i=S(g,"H3",{"data-svelte-h":!0}),X(i)!=="svelte-1xfskau"&&(i.textContent=s),a=F(g);for(let h=0;h<c.length;h+=1)c[h].l(g);n=F(g),b&&b.l(g),g.forEach(_),this.h()},h(){G(t,"class","main")},m(m,g){I(e,m,g),d(m,r,g),d(m,t,g),$(t,u),$(t,i),$(t,a);for(let h=0;h<c.length;h+=1)c[h]&&c[h].m(t,null);$(t,n),b&&b.m(t,null),l=!0},p(m,[g]){if(g&1){f=H(m[0]);let h;for(h=0;h<f.length;h+=1){const k=se(m,f,h);c[h]?c[h].p(k,g):(c[h]=oe(k),c[h].c(),c[h].m(t,n))}for(;h<c.length;h+=1)c[h].d(1);c.length=f.length}m[0].length>1?b?b.p(m,g):(b=ae(m),b.c(),b.m(t,null)):b&&(b.d(1),b=null)},i(m){l||(N(e.$$.fragment,m),l=!0)},o(m){v(e.$$.fragment,m),l=!1},d(m){m&&(_(r),_(t)),B(e,m),Q(c,m),b&&b.d()}}}function Ge(o,e,r){let{users:t}=e,{gameName:u}=e;const i=()=>Ee(u);return o.$$set=s=>{"users"in s&&r(0,t=s.users),"gameName"in s&&r(1,u=s.gameName)},[t,u,i]}class Oe extends z{constructor(e){super(),M(this,e,Ge,Ye,P,{users:0,gameName:1})}}function Pe(o){let e,r,t,u;return{c(){e=R("form"),r=R("input"),this.h()},l(i){e=S(i,"FORM",{});var s=L(e);r=S(s,"INPUT",{placeholder:!0,class:!0}),s.forEach(_),this.h()},h(){G(r,"placeholder",o[0]),G(r,"class","svelte-1155yr6")},m(i,s){d(i,e,s),$(e,r),x(r,o[1]),t||(u=[K(r,"input",o[4]),K(e,"submit",he(o[2]))],t=!0)},p(i,[s]){s&1&&G(r,"placeholder",i[0]),s&2&&r.value!==i[1]&&x(r,i[1])},i:y,o:y,d(i){i&&_(e),t=!1,ce(u)}}}function ze(o,e,r){let{callback:t}=e,{placeholder:u}=e,i="";function s(){t(i)}function a(){i=this.value,r(1,i)}return o.$$set=n=>{"callback"in n&&r(3,t=n.callback),"placeholder"in n&&r(0,u=n.placeholder)},[u,i,s,t,a]}class fe extends z{constructor(e){super(),M(this,e,ze,Pe,P,{callback:3,placeholder:0})}}function Me(o){let e,r=o[2].question.question+"",t,u,i,s,a,n,l=o[4].fib+"",f;return{c(){e=E("For "),t=E(r),u=q(),i=R("br"),s=E(`
		You said: `),a=R("br"),n=q(),f=E(l)},l(c){e=A(c,"For "),t=A(c,r),u=F(c),i=S(c,"BR",{}),s=A(c,`
		You said: `),a=S(c,"BR",{}),n=F(c),f=A(c,l)},m(c,b){d(c,e,b),d(c,t,b),d(c,u,b),d(c,i,b),d(c,s,b),d(c,a,b),d(c,n,b),d(c,f,b)},p(c,b){b&4&&r!==(r=c[2].question.question+"")&&O(t,r),b&16&&l!==(l=c[4].fib+"")&&O(f,l)},i:y,o:y,d(c){c&&(_(e),_(t),_(u),_(i),_(s),_(a),_(n),_(f))}}}function He(o){let e,r,t,u=o[2].question.question+"",i,s,a,n;return a=new fe({props:{placeholder:"type your lie and hit enter",callback:o[5]}}),{c(){e=E("Submit a lie for the quesion: "),r=R("br"),t=q(),i=E(u),s=q(),U(a.$$.fragment)},l(l){e=A(l,"Submit a lie for the quesion: "),r=S(l,"BR",{}),t=F(l),i=A(l,u),s=F(l),D(a.$$.fragment,l)},m(l,f){d(l,e,f),d(l,r,f),d(l,t,f),d(l,i,f),d(l,s,f),I(a,l,f),n=!0},p(l,f){(!n||f&4)&&u!==(u=l[2].question.question+"")&&O(i,u);const c={};f&11&&(c.callback=l[5]),a.$set(c)},i(l){n||(N(a.$$.fragment,l),n=!0)},o(l){v(a.$$.fragment,l),n=!1},d(l){l&&(_(e),_(r),_(t),_(i),_(s)),B(a,l)}}}function We(o){let e,r,t,u,i,s;e=new J({props:{header:"Submit a lie"}});const a=[He,Me],n=[];function l(f,c){return f[4]===void 0?0:1}return u=l(o),i=n[u]=a[u](o),{c(){U(e.$$.fragment),r=q(),t=R("div"),i.c(),this.h()},l(f){D(e.$$.fragment,f),r=F(f),t=S(f,"DIV",{class:!0});var c=L(t);i.l(c),c.forEach(_),this.h()},h(){G(t,"class","main")},m(f,c){I(e,f,c),d(f,r,c),d(f,t,c),n[u].m(t,null),s=!0},p(f,[c]){let b=u;u=l(f),u===b?n[u].p(f,c):(W(),v(n[b],1,1,()=>{n[b]=null}),j(),i=n[u],i?i.p(f,c):(i=n[u]=a[u](f),i.c()),N(i,1),i.m(t,null))},i(f){s||(N(e.$$.fragment,f),N(i),s=!0)},o(f){v(e.$$.fragment,f),v(i),s=!1},d(f){f&&(_(r),_(t)),B(e,f),n[u].d()}}}function je(o,e,r){let t,{gameName:u}=e,{user:i}=e,{round:s}=e,{roundNum:a}=e;const n=l=>Ae(u,i,l,a);return o.$$set=l=>{"gameName"in l&&r(0,u=l.gameName),"user"in l&&r(1,i=l.user),"round"in l&&r(2,s=l.round),"roundNum"in l&&r(3,a=l.roundNum)},o.$$.update=()=>{o.$$.dirty&6&&r(4,t=s.fibs.find(l=>l.user===i))},[u,i,s,a,t,n]}class Ke extends z{constructor(e){super(),M(this,e,je,We,P,{gameName:0,user:1,round:2,roundNum:3})}}function Je(o){let e,r,t,u,i,s;return e=new J({props:{header:"Enter name"}}),i=new fe({props:{placeholder:"Type your name and press enter",callback:o[0]}}),{c(){U(e.$$.fragment),r=q(),t=R("div"),u=E(`Share the URL to invite friends to play.

	`),U(i.$$.fragment),this.h()},l(a){D(e.$$.fragment,a),r=F(a),t=S(a,"DIV",{class:!0});var n=L(t);u=A(n,`Share the URL to invite friends to play.

	`),D(i.$$.fragment,n),n.forEach(_),this.h()},h(){G(t,"class","main")},m(a,n){I(e,a,n),d(a,r,n),d(a,t,n),$(t,u),I(i,t,null),s=!0},p:y,i(a){s||(N(e.$$.fragment,a),N(i.$$.fragment,a),s=!0)},o(a){v(e.$$.fragment,a),v(i.$$.fragment,a),s=!1},d(a){a&&(_(r),_(t)),B(e,a),B(i)}}}function Qe(o,e,r){let{user:t}=e,{gameName:u}=e;async function i(s){const a=await qe(u,s);a==="USERNAME_TAKEN"||a==="GAME_ALREADY_STARTED"||(localStorage.setItem(u,s),r(1,t=s))}return o.$$set=s=>{"user"in s&&r(1,t=s.user),"gameName"in s&&r(2,u=s.gameName)},[i,t,u]}class Xe extends z{constructor(e){super(),M(this,e,Qe,Je,P,{user:1,gameName:2})}}function Ze(o){let e,r;return e=new Ve({props:{game:o[0],user:o[1]}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,u){I(e,t,u),r=!0},p(t,u){const i={};u&1&&(i.game=t[0]),u&2&&(i.user=t[1]),e.$set(i)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function xe(o){let e,r;return e=new Ie({props:{gameName:o[0].name,user:o[1],round:o[2],roundNum:o[0].currentRoundNumber}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,u){I(e,t,u),r=!0},p(t,u){const i={};u&1&&(i.gameName=t[0].name),u&2&&(i.user=t[1]),u&4&&(i.round=t[2]),u&1&&(i.roundNum=t[0].currentRoundNumber),e.$set(i)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function et(o){let e,r;return e=new Ke({props:{gameName:o[0].name,user:o[1],round:o[2],roundNum:o[0].currentRoundNumber}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,u){I(e,t,u),r=!0},p(t,u){const i={};u&1&&(i.gameName=t[0].name),u&2&&(i.user=t[1]),u&4&&(i.round=t[2]),u&1&&(i.roundNum=t[0].currentRoundNumber),e.$set(i)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function tt(o){let e,r;return e=new Oe({props:{users:o[0].users,gameName:o[0].name}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,u){I(e,t,u),r=!0},p(t,u){const i={};u&1&&(i.users=t[0].users),u&1&&(i.gameName=t[0].name),e.$set(i)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function rt(o){let e,r,t,u;const i=[lt,nt],s=[];function a(n,l){return n[0].currentRoundNumber===-1?0:1}return e=a(o),r=s[e]=i[e](o),{c(){r.c(),t=Y()},l(n){r.l(n),t=Y()},m(n,l){s[e].m(n,l),d(n,t,l),u=!0},p(n,l){let f=e;e=a(n),e===f?s[e].p(n,l):(W(),v(s[f],1,1,()=>{s[f]=null}),j(),r=s[e],r?r.p(n,l):(r=s[e]=i[e](n),r.c()),N(r,1),r.m(t.parentNode,t))},i(n){u||(N(r),u=!0)},o(n){v(r),u=!1},d(n){n&&_(t),s[e].d(n)}}}function nt(o){let e;return{c(){e=E("The game has already started.")},l(r){e=A(r,"The game has already started.")},m(r,t){d(r,e,t)},p:y,i:y,o:y,d(r){r&&_(e)}}}function lt(o){let e,r,t;function u(s){o[3](s)}let i={gameName:o[0].name};return o[1]!==void 0&&(i.user=o[1]),e=new Xe({props:i}),me.push(()=>pe(e,"user",u)),{c(){U(e.$$.fragment)},l(s){D(e.$$.fragment,s)},m(s,a){I(e,s,a),t=!0},p(s,a){const n={};a&1&&(n.gameName=s[0].name),!r&&a&2&&(r=!0,n.user=s[1],_e(()=>r=!1)),e.$set(n)},i(s){t||(N(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){B(e,s)}}}function ut(o){let e,r,t,u,i;const s=[rt,tt,et,xe,Ze],a=[];function n(l,f){return l[1]===null?0:l[0].currentRoundNumber===-1?1:l[2].type==="Fibbage"&&l[2].fibs.length<l[0].users.length?2:l[2].guesses.length<l[0].users.length?3:4}return e=n(o),r=a[e]=s[e](o),{c(){r.c(),t=q(),u=R("div")},l(l){r.l(l),t=F(l),u=S(l,"DIV",{}),L(u).forEach(_)},m(l,f){a[e].m(l,f),d(l,t,f),d(l,u,f),i=!0},p(l,[f]){let c=e;e=n(l),e===c?a[e].p(l,f):(W(),v(a[c],1,1,()=>{a[c]=null}),j(),r=a[e],r?r.p(l,f):(r=a[e]=s[e](l),r.c()),N(r,1),r.m(t.parentNode,t))},i(l){i||(N(r),i=!0)},o(l){v(r),i=!1},d(l){l&&(_(t),_(u)),a[e].d(l)}}}function it(o,e,r){let{game:t}=e,u=localStorage.getItem(t.name),i;function s(a){u=a,r(1,u)}return o.$$set=a=>{"game"in a&&r(0,t=a.game)},o.$$.update=()=>{o.$$.dirty&1&&r(2,i=t.rounds[t.currentRoundNumber])},[t,u,i,s]}class st extends z{constructor(e){super(),M(this,e,it,ut,P,{game:0})}}function ot(o){let e;return{c(){e=E("loading, if this takes longer than a few seconds something is wrong check the url")},l(r){e=A(r,"loading, if this takes longer than a few seconds something is wrong check the url")},m(r,t){d(r,e,t)},p:y,i:y,o:y,d(r){r&&_(e)}}}function at(o){let e,r,t,u;const i=[ct,ft],s=[];function a(n,l){return n[2]?0:1}return e=a(o),r=s[e]=i[e](o),{c(){r.c(),t=Y()},l(n){r.l(n),t=Y()},m(n,l){s[e].m(n,l),d(n,t,l),u=!0},p(n,l){let f=e;e=a(n),e===f?s[e].p(n,l):(W(),v(s[f],1,1,()=>{s[f]=null}),j(),r=s[e],r?r.p(n,l):(r=s[e]=i[e](n),r.c()),N(r,1),r.m(t.parentNode,t))},i(n){u||(N(r),u=!0)},o(n){v(r),u=!1},d(n){n&&_(t),s[e].d(n)}}}function ft(o){let e;return{c(){e=E("loading")},l(r){e=A(r,"loading")},m(r,t){d(r,e,t)},p:y,i:y,o:y,d(r){r&&_(e)}}}function ct(o){let e,r,t,u;const i=[dt,_t,mt],s=[];function a(n,l){return n[2].error?0:n[2].data?1:2}return e=a(o),r=s[e]=i[e](o),{c(){r.c(),t=Y()},l(n){r.l(n),t=Y()},m(n,l){s[e].m(n,l),d(n,t,l),u=!0},p(n,l){let f=e;e=a(n),e===f?s[e].p(n,l):(W(),v(s[f],1,1,()=>{s[f]=null}),j(),r=s[e],r?r.p(n,l):(r=s[e]=i[e](n),r.c()),N(r,1),r.m(t.parentNode,t))},i(n){u||(N(r),u=!0)},o(n){v(r),u=!1},d(n){n&&_(t),s[e].d(n)}}}function mt(o){let e;return{c(){e=E("error")},l(r){e=A(r,"error")},m(r,t){d(r,e,t)},p:y,i:y,o:y,d(r){r&&_(e)}}}function _t(o){let e,r;return e=new st({props:{game:o[2].data}}),{c(){U(e.$$.fragment)},l(t){D(e.$$.fragment,t)},m(t,u){I(e,t,u),r=!0},p(t,u){const i={};u&4&&(i.game=t[2].data),e.$set(i)},i(t){r||(N(e.$$.fragment,t),r=!0)},o(t){v(e.$$.fragment,t),r=!1},d(t){B(e,t)}}}function dt(o){let e;return{c(){e=E(`An error occurred please refresh and check the URL. Wait a minute and then create a new game
			if the problem persists.`)},l(r){e=A(r,`An error occurred please refresh and check the URL. Wait a minute and then create a new game
			if the problem persists.`)},m(r,t){d(r,e,t)},p:y,i:y,o:y,d(r){r&&_(e)}}}function bt(o){let e,r,t,u;const i=[at,ot],s=[];function a(n,l){return n[1]?0:1}return e=a(o),r=s[e]=i[e](o),{c(){r.c(),t=Y()},l(n){r.l(n),t=Y()},m(n,l){s[e].m(n,l),d(n,t,l),u=!0},p(n,[l]){let f=e;e=a(n),e===f?s[e].p(n,l):(W(),v(s[f],1,1,()=>{s[f]=null}),j(),r=s[e],r?r.p(n,l):(r=s[e]=i[e](n),r.c()),N(r,1),r.m(t.parentNode,t))},i(n){u||(N(r),u=!0)},o(n){v(r),u=!1},d(n){n&&_(t),s[e].d(n)}}}function gt(o,e,r){let t,u,i=y,s=()=>(i(),i=ge(a,l=>r(2,u=l)),a);de(o,ke,l=>r(3,t=l)),o.$$.on_destroy.push(()=>i());let a=null;s();let n="";return be(()=>{r(1,n=t.url.searchParams.get("name")),s(r(0,a=Fe(ye,"private-games/"+n)))}),[a,n,u]}class wt extends z{constructor(e){super(),M(this,e,gt,bt,P,{})}}export{wt as component};
